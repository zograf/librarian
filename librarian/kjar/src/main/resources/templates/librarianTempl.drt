template header
age
flag

package rules;
import com.librarian.model.*;

template "age rules"

rule "Age @{row.rowNumber}"
salience 100
no-loop
    when
        $u: UserPreferences(age > @{age})
        //not Flag(name == "flag_adult", up == $u)
        //not Flag(name == "flag_juvenile", up == $u)
        //not Flag(name == "flag_ya", up == $u)
    then
        insert(new Flag(@{flag}, $u));
end

end template